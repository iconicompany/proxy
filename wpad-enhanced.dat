function FindProxyForURL(url, host) {
    // QUICK DOMAIN MATCHES
    if (
      shExpMatch(host, "(*.|)*.ru") ||
      shExpMatch(host, "(*.|)*.su") ||
      shExpMatch(host, "(*.|)*.xn--p1ai") ||
      shExpMatch(host, "(*.|)*.telegram.org") ||
      shExpMatch(host, "(*.|)*.live.com")
    ) {
        return "DIRECT";
    }
    if (
      shExpMatch(host, "(*.|)intema.ai") ||
      shExpMatch(host, "(*.|)beeai.dev") ||
      shExpMatch(host, "(*.|)authjs.dev") ||
      shExpMatch(host, "(*.|)addy.ie") ||
      shExpMatch(host, "(*.|)gitingest.com") ||
      shExpMatch(host, "(*.|)huggingface.co") ||
      shExpMatch(host, "(*.|)cheatingdaddy.com") ||
      shExpMatch(host, "(*.|)manus.im") ||
      shExpMatch(host, "(*.|)heygen.com") ||
      shExpMatch(host, "(*.|)mermaidchart.com") ||
      shExpMatch(host, "(*.|)claude.com") ||
      shExpMatch(host, "(*.|)notion.*") ||
      shExpMatch(host, "(*.|)fireworks.ai") ||
      shExpMatch(host, "(*.|)litellm.ai") ||
      shExpMatch(host, "(*.|)oxc.rs") ||
      shExpMatch(host, "(*.|)openevidence.com") ||
      shExpMatch(host, "(*.|)oaistatic.com") ||
      shExpMatch(host, "(*.|)chatgpt.com") ||
      shExpMatch(host, "(*.|)openai.com") ||
      shExpMatch(host, "(*.|)openlume.com") ||
      shExpMatch(host, "(*.|)clickup.com") ||
      shExpMatch(host, "(*.|)myip.com") ||
      shExpMatch(host, "(*.|)canva.com") ||
      shExpMatch(host, "(*.|)gstatic.com") ||
      shExpMatch(host, "(*.|)googleadservices.com") ||
      shExpMatch(host, "(*.|)googleapis.com") ||
      shExpMatch(host, "(*.|)google.*") ||
      shExpMatch(host, "(*.|)googlevideo.com") ||
      shExpMatch(host, "(*.|)youtu.be") ||
      shExpMatch(host, "(*.|)youtube.*") ||
      shExpMatch(host, "(*.|)linkedin.com") ||
      shExpMatch(host, "(*.|)x.com") ||
      shExpMatch(host, "(*.|)twimg.com") ||
      shExpMatch(host, "(*.|)microsoft.com")
    ) {
        return "HTTPS proxy.iconicompany.com:3129";
    }

    var ip = dnsResolve(host);
    if (!ip || (ip.indexOf(".") === -1 && ip.indexOf(":" ) === -1)) {
        return "DIRECT";
    }

    // IPv4 DIRECT (String Match: ip.indexOf)
    if (ip.indexOf(".") !== -1) {
        if (
      ip.indexOf("5.") === 0 ||
      ip.indexOf("10.") === 0 ||
      ip.indexOf("31.") === 0 ||
      ip.indexOf("37.") === 0 ||
      ip.indexOf("46.") === 0 ||
      ip.indexOf("77.") === 0 ||
      ip.indexOf("78.") === 0 ||
      ip.indexOf("79.") === 0 ||
      ip.indexOf("80.") === 0 ||
      ip.indexOf("81.") === 0 ||
      ip.indexOf("82.") === 0 ||
      ip.indexOf("83.") === 0 ||
      ip.indexOf("84.") === 0 ||
      ip.indexOf("85.") === 0 ||
      ip.indexOf("172.") === 0 ||
      ip.indexOf("176.") === 0 ||
      ip.indexOf("178.") === 0 ||
      ip.indexOf("185.") === 0 ||
      ip.indexOf("188.") === 0 ||
      ip.indexOf("192.168.") === 0 ||
      ip.indexOf("212.") === 0 ||
      ip.indexOf("213.") === 0 ||
      ip.indexOf("217.") === 0
        ) {
            return "DIRECT";
        }
    }
    
    // IPv6 DIRECT (String Match: ip.indexOf)
    if (ip.indexOf(":") !== -1) {
        if (
false
        ) {
            return "DIRECT";
        }
    }

    // IPv4 PROXY (String Match: ip.indexOf)
    if (ip.indexOf(".") !== -1) {
        if (
      ip.indexOf("3.") === 0 ||
      ip.indexOf("13.") === 0 ||
      ip.indexOf("15.") === 0 ||
      ip.indexOf("18.") === 0 ||
      ip.indexOf("23.") === 0 ||
      ip.indexOf("24.") === 0 ||
      ip.indexOf("34.") === 0 ||
      ip.indexOf("35.") === 0 ||
      ip.indexOf("36.") === 0 ||
      ip.indexOf("43.") === 0 ||
      ip.indexOf("44.") === 0 ||
      ip.indexOf("47.") === 0 ||
      ip.indexOf("51.") === 0 ||
      ip.indexOf("52.") === 0 ||
      ip.indexOf("54.") === 0 ||
      ip.indexOf("56.") === 0 ||
      ip.indexOf("57.") === 0 ||
      ip.indexOf("58.") === 0 ||
      ip.indexOf("64.") === 0 ||
      ip.indexOf("65.") === 0 ||
      ip.indexOf("70.") === 0 ||
      ip.indexOf("71.") === 0 ||
      ip.indexOf("76.") === 0 ||
      ip.indexOf("99.") === 0 ||
      ip.indexOf("103.") === 0 ||
      ip.indexOf("104.") === 0 ||
      ip.indexOf("108.") === 0 ||
      ip.indexOf("111.") === 0 ||
      ip.indexOf("116.") === 0 ||
      ip.indexOf("118.") === 0 ||
      ip.indexOf("119.") === 0 ||
      ip.indexOf("120.") === 0 ||
      ip.indexOf("130.") === 0 ||
      ip.indexOf("131.") === 0 ||
      ip.indexOf("141.") === 0 ||
      ip.indexOf("143.") === 0 ||
      ip.indexOf("144.") === 0 ||
      ip.indexOf("162.") === 0 ||
      ip.indexOf("172.") === 0 ||
      ip.indexOf("173.") === 0 ||
      ip.indexOf("180.") === 0 ||
      ip.indexOf("188.") === 0 ||
      ip.indexOf("190.") === 0 ||
      ip.indexOf("197.") === 0 ||
      ip.indexOf("198.") === 0 ||
      ip.indexOf("204.") === 0 ||
      ip.indexOf("205.") === 0 ||
      ip.indexOf("216.") === 0
        ) {
            return "HTTPS proxy.iconicompany.com:3129";
        }
    }

    // IPv6 PROXY (String Match: ip.indexOf)
    if (ip.indexOf(":") !== -1) {
        if (
      ip.indexOf("2400:7fc0:") === 0 ||
      ip.indexOf("2400:cb00:") === 0 ||
      ip.indexOf("2404:c2c0:") === 0 ||
      ip.indexOf("2405:8100:") === 0 ||
      ip.indexOf("2405:b500:") === 0 ||
      ip.indexOf("2409:8c00:") === 0 ||
      ip.indexOf("2600:9000:") === 0 ||
      ip.indexOf("2606:4700:") === 0 ||
      ip.indexOf("2803:f800:") === 0 ||
      ip.indexOf("2a06:98c0:") === 0 ||
      ip.indexOf("2c0f:f248:") === 0
        ) {
            return "HTTPS proxy.iconicompany.com:3129";
        }
    }

    return "DIRECT";
}
